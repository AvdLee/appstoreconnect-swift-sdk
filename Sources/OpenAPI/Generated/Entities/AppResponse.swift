// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

public struct AppResponse: Codable {
	public var links: DocumentLinks
	/// App
	public var data: App
	public var included: [IncludedItem]?

	public enum IncludedItem: Codable {
		case androidToIosAppMappingDetail(AndroidToIosAppMappingDetail)
		case appClip(AppClip)
		case appCustomProductPage(AppCustomProductPage)
		case appEncryptionDeclaration(AppEncryptionDeclaration)
		case appEvent(AppEvent)
		case appInfo(AppInfo)
		case appStoreVersionExperimentV2(AppStoreVersionExperimentV2)
		case appStoreVersion(AppStoreVersion)
		case betaAppLocalization(BetaAppLocalization)
		case betaAppReviewDetail(BetaAppReviewDetail)
		case betaGroup(BetaGroup)
		case betaLicenseAgreement(BetaLicenseAgreement)
		case buildIcon(BuildIcon)
		case build(Build)
		case ciProduct(CiProduct)
		case endUserLicenseAgreement(EndUserLicenseAgreement)
		case gameCenterDetail(GameCenterDetail)
		case gameCenterEnabledVersion(GameCenterEnabledVersion)
		case inAppPurchase(InAppPurchase)
		case prereleaseVersion(PrereleaseVersion)
		case promotedPurchase(PromotedPurchase)
		case reviewSubmission(ReviewSubmission)
		case subscriptionGracePeriod(SubscriptionGracePeriod)
		case subscriptionGroup(SubscriptionGroup)

		public init(from decoder: Decoder) throws {

			struct Discriminator: Decodable {
				let type: String
			}

			let container = try decoder.singleValueContainer()
			let discriminatorValue = try container.decode(Discriminator.self).type

			switch discriminatorValue {
			case "androidToIosAppMappingDetails": self = .androidToIosAppMappingDetail(try container.decode(AndroidToIosAppMappingDetail.self))
			case "appClips": self = .appClip(try container.decode(AppClip.self))
			case "appCustomProductPages": self = .appCustomProductPage(try container.decode(AppCustomProductPage.self))
			case "appEncryptionDeclarations": self = .appEncryptionDeclaration(try container.decode(AppEncryptionDeclaration.self))
			case "appEvents": self = .appEvent(try container.decode(AppEvent.self))
			case "appInfos": self = .appInfo(try container.decode(AppInfo.self))
			case "appStoreVersionExperiments": self = .appStoreVersionExperimentV2(try container.decode(AppStoreVersionExperimentV2.self))
			case "appStoreVersions": self = .appStoreVersion(try container.decode(AppStoreVersion.self))
			case "betaAppLocalizations": self = .betaAppLocalization(try container.decode(BetaAppLocalization.self))
			case "betaAppReviewDetails": self = .betaAppReviewDetail(try container.decode(BetaAppReviewDetail.self))
			case "betaGroups": self = .betaGroup(try container.decode(BetaGroup.self))
			case "betaLicenseAgreements": self = .betaLicenseAgreement(try container.decode(BetaLicenseAgreement.self))
			case "buildIcons": self = .buildIcon(try container.decode(BuildIcon.self))
			case "builds": self = .build(try container.decode(Build.self))
			case "ciProducts": self = .ciProduct(try container.decode(CiProduct.self))
			case "endUserLicenseAgreements": self = .endUserLicenseAgreement(try container.decode(EndUserLicenseAgreement.self))
			case "gameCenterDetails": self = .gameCenterDetail(try container.decode(GameCenterDetail.self))
			case "gameCenterEnabledVersions": self = .gameCenterEnabledVersion(try container.decode(GameCenterEnabledVersion.self))
			case "inAppPurchases": self = .inAppPurchase(try container.decode(InAppPurchase.self))
			case "preReleaseVersions": self = .prereleaseVersion(try container.decode(PrereleaseVersion.self))
			case "promotedPurchases": self = .promotedPurchase(try container.decode(PromotedPurchase.self))
			case "reviewSubmissions": self = .reviewSubmission(try container.decode(ReviewSubmission.self))
			case "subscriptionGracePeriods": self = .subscriptionGracePeriod(try container.decode(SubscriptionGracePeriod.self))
			case "subscriptionGroups": self = .subscriptionGroup(try container.decode(SubscriptionGroup.self))

			default:
				throw DecodingError.dataCorruptedError(
					in: container,
					debugDescription: "Discriminator value '\(discriminatorValue)' does not match any expected values (androidToIosAppMappingDetails, appClips, appCustomProductPages, appEncryptionDeclarations, appEvents, appInfos, appStoreVersionExperiments, appStoreVersions, betaAppLocalizations, betaAppReviewDetails, betaGroups, betaLicenseAgreements, buildIcons, builds, ciProducts, endUserLicenseAgreements, gameCenterDetails, gameCenterEnabledVersions, inAppPurchases, preReleaseVersions, promotedPurchases, reviewSubmissions, subscriptionGracePeriods, subscriptionGroups)."
				)
			}
		}

		public func encode(to encoder: Encoder) throws {
			var container = encoder.singleValueContainer()
			switch self {
			case .androidToIosAppMappingDetail(let value): try container.encode(value)
			case .appClip(let value): try container.encode(value)
			case .appCustomProductPage(let value): try container.encode(value)
			case .appEncryptionDeclaration(let value): try container.encode(value)
			case .appEvent(let value): try container.encode(value)
			case .appInfo(let value): try container.encode(value)
			case .appStoreVersionExperimentV2(let value): try container.encode(value)
			case .appStoreVersion(let value): try container.encode(value)
			case .betaAppLocalization(let value): try container.encode(value)
			case .betaAppReviewDetail(let value): try container.encode(value)
			case .betaGroup(let value): try container.encode(value)
			case .betaLicenseAgreement(let value): try container.encode(value)
			case .buildIcon(let value): try container.encode(value)
			case .build(let value): try container.encode(value)
			case .ciProduct(let value): try container.encode(value)
			case .endUserLicenseAgreement(let value): try container.encode(value)
			case .gameCenterDetail(let value): try container.encode(value)
			case .gameCenterEnabledVersion(let value): try container.encode(value)
			case .inAppPurchase(let value): try container.encode(value)
			case .prereleaseVersion(let value): try container.encode(value)
			case .promotedPurchase(let value): try container.encode(value)
			case .reviewSubmission(let value): try container.encode(value)
			case .subscriptionGracePeriod(let value): try container.encode(value)
			case .subscriptionGroup(let value): try container.encode(value)
			}
		}
	}

	public init(links: DocumentLinks, data: App, included: [IncludedItem]? = nil) {
		self.links = links
		self.data = data
		self.included = included
	}

	public init(from decoder: Decoder) throws {
		let values = try decoder.container(keyedBy: StringCodingKey.self)
		self.links = try values.decode(DocumentLinks.self, forKey: "links")
		self.data = try values.decode(App.self, forKey: "data")
		self.included = try values.decodeIfPresent([IncludedItem].self, forKey: "included")
	}

	public func encode(to encoder: Encoder) throws {
		var values = encoder.container(keyedBy: StringCodingKey.self)
		try values.encode(links, forKey: "links")
		try values.encode(data, forKey: "data")
		try values.encodeIfPresent(included, forKey: "included")
	}
}
