// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation

public struct CiAction: Codable {
	public var scheme: String?
	public var destination: Destination?
	public var actionType: CiActionType?
	public var name: String?
	public var testConfiguration: TestConfiguration?
	public var isRequiredToPass: Bool?
	public var platform: Platform?
	public var buildDistributionAudience: BuildAudienceType?

	public enum Destination: String, Codable, CaseIterable {
		case anyIosDevice = "ANY_IOS_DEVICE"
		case anyIosSimulator = "ANY_IOS_SIMULATOR"
		case anyTvosDevice = "ANY_TVOS_DEVICE"
		case anyTvosSimulator = "ANY_TVOS_SIMULATOR"
		case anyWatchosDevice = "ANY_WATCHOS_DEVICE"
		case anyWatchosSimulator = "ANY_WATCHOS_SIMULATOR"
		case anyMac = "ANY_MAC"
		case anyMacCatalyst = "ANY_MAC_CATALYST"
		case anyVisionosDevice = "ANY_VISIONOS_DEVICE"
		case anyVisionosSimulator = "ANY_VISIONOS_SIMULATOR"
	}

	public struct TestConfiguration: Codable {
		public var testDestinations: [CiTestDestination]?
		public var kind: Kind?
		public var testPlanName: String?

		public enum Kind: String, Codable, CaseIterable {
			case useSchemeSettings = "USE_SCHEME_SETTINGS"
			case specificTestPlans = "SPECIFIC_TEST_PLANS"
		}

		public init(testDestinations: [CiTestDestination]? = nil, kind: Kind? = nil, testPlanName: String? = nil) {
			self.testDestinations = testDestinations
			self.kind = kind
			self.testPlanName = testPlanName
		}

		public init(from decoder: Decoder) throws {
			let values = try decoder.container(keyedBy: StringCodingKey.self)
			self.testDestinations = try values.decodeIfPresent([CiTestDestination].self, forKey: "testDestinations")
			self.kind = try values.decodeIfPresent(Kind.self, forKey: "kind")
			self.testPlanName = try values.decodeIfPresent(String.self, forKey: "testPlanName")
		}

		public func encode(to encoder: Encoder) throws {
			var values = encoder.container(keyedBy: StringCodingKey.self)
			try values.encodeIfPresent(testDestinations, forKey: "testDestinations")
			try values.encodeIfPresent(kind, forKey: "kind")
			try values.encodeIfPresent(testPlanName, forKey: "testPlanName")
		}
	}

	public enum Platform: String, Codable, CaseIterable {
		case macos = "MACOS"
		case ios = "IOS"
		case tvos = "TVOS"
		case watchos = "WATCHOS"
		case visionos = "VISIONOS"
	}

	public init(scheme: String? = nil, destination: Destination? = nil, actionType: CiActionType? = nil, name: String? = nil, testConfiguration: TestConfiguration? = nil, isRequiredToPass: Bool? = nil, platform: Platform? = nil, buildDistributionAudience: BuildAudienceType? = nil) {
		self.scheme = scheme
		self.destination = destination
		self.actionType = actionType
		self.name = name
		self.testConfiguration = testConfiguration
		self.isRequiredToPass = isRequiredToPass
		self.platform = platform
		self.buildDistributionAudience = buildDistributionAudience
	}

	public init(from decoder: Decoder) throws {
		let values = try decoder.container(keyedBy: StringCodingKey.self)
		self.scheme = try values.decodeIfPresent(String.self, forKey: "scheme")
		self.destination = try values.decodeIfPresent(Destination.self, forKey: "destination")
		self.actionType = try values.decodeIfPresent(CiActionType.self, forKey: "actionType")
		self.name = try values.decodeIfPresent(String.self, forKey: "name")
		self.testConfiguration = try values.decodeIfPresent(TestConfiguration.self, forKey: "testConfiguration")
		self.isRequiredToPass = try values.decodeIfPresent(Bool.self, forKey: "isRequiredToPass")
		self.platform = try values.decodeIfPresent(Platform.self, forKey: "platform")
		self.buildDistributionAudience = try values.decodeIfPresent(BuildAudienceType.self, forKey: "buildDistributionAudience")
	}

	public func encode(to encoder: Encoder) throws {
		var values = encoder.container(keyedBy: StringCodingKey.self)
		try values.encodeIfPresent(scheme, forKey: "scheme")
		try values.encodeIfPresent(destination, forKey: "destination")
		try values.encodeIfPresent(actionType, forKey: "actionType")
		try values.encodeIfPresent(name, forKey: "name")
		try values.encodeIfPresent(testConfiguration, forKey: "testConfiguration")
		try values.encodeIfPresent(isRequiredToPass, forKey: "isRequiredToPass")
		try values.encodeIfPresent(platform, forKey: "platform")
		try values.encodeIfPresent(buildDistributionAudience, forKey: "buildDistributionAudience")
	}
}
